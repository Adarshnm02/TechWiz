<%- include('../partials/user/header') %>



<section class="checkout spad ">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h6>
                    <!-- Have a coupon? <a href="#">Click here</a> to enter your code (class="icon_tag_alt")-->
                </h6>
            </div>
        </div>
        <div class="checkout__form">
            <h4>Edit Address</h4>
            <form action="/editAddress/<%=address._id %>" method="post" id="editAddressForm">
                <div class="row d-flex justify-content-center align-items-center ">
                    <div class="col-lg-8 col-md-6">

                        <div class="checkout__input">
                            <p>Full Name<span>*</span></p>
                            <input type="text" name="userName"  value="<%= address.userName %>">
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <p>Phone<span>*</span></p>
                                    <input type="number" name="mobile" value="<%= address.mobile %>">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="checkout__input">
                                    <p>Email<span>*</span></p>
                                    <input type="email" name="email" id="email2" value="<%= address.email %>">
                                    <p id="emailError"></p>
                                </div>
                            </div>
                        </div>


                        <div class="checkout__input">
                            <p>Address<span>*</span></p>
                            <input type="text" name="address" value="<%= address.houseName %>" class="checkout__input__add">
                            <!-- <input type="text" placeholder="Apartment, suite, unit, etc. (optional)"> -->
                        </div>
                        <div class="checkout__input">
                            <p>City/Town<span>*</span></p>
                            <input type="text" name="city" value="<%= address.city %>">
                        </div>
                        
                        <div class="checkout__input">
                            <p>District<span>*</span></p>
                            <input type="text" name="district" value="<%= address.district %>">
                        </div>

                        <div class="checkout__input">
                            <p>State<span>*</span></p>
                            <input type="text" name="state" value="<%= address.state %>">
                        </div>

                        <div class="checkout__input">
                            <p>Country<span>*</span></p>
                            <input type="text" name="country" value="<%= address.country %>">
                        </div>

                        <div class="checkout__input">
                            <p>Postcode / ZIP<span>*</span></p>
                            <input type="number" name="postCode" value="<%= address.postCode %>">
                        </div>

                       
                        
                        <div class="edit-address">
                            <button>Submit</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>

<script>
    const couponForm = document.getElementById("editAddressForm");

    const emailInput = document.getElementById("email2");
    const emailError = document.getElementById("emailError");



    function emailValidation() {
        if (emailInput.value.trim() === "") {
            emailError.innerHTML = "Please enter your Email Address!";
            return false;
        } else if (!(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(emailInput.value))) {
            emailError.innerHTML = "Please enter a valid Email address.";
            return false;
        } else {
            emailError.innerHTML = "";
            return true;
        }
    }




    couponForm.addEventListener("submit", function (event) {
			event.preventDefault();
			const validations = [
				emailValidation()
				
			];
			const hasErrors = validations.some(validation => validation === false);
			if (!hasErrors) {
				couponForm.submit(); 
			}
		});

        
</script>


<%- include('../partials/user/footer') %>